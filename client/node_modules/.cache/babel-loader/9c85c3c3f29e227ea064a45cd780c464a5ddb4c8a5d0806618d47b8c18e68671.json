{"ast":null,"code":"import React from'react';import'./Locdialog.css';import{getAgencyinfo,updateLocation}from'../../service/api';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Locdialog=props=>{const[city,setCity]=React.useState('');function handleChange(event){setCity(event.target.value);}// Locdialog.js\nconst handleClick=async()=>{props.setloc(city);// Update the data structure sent to the backend\nconst data={city:city,cname:props.cname};// Use async/await to handle the asynchronous call\nconst response=await updateLocation(data);if(response){console.log(response);// Handle the response as needed\ntry{let agencyInfo=await getAgencyinfo();props.setAgencyData(agencyInfo);console.log(agencyInfo);}catch(error){console.error(error);}}};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{class:\"modal-dialog\",role:\"document\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"modal-content\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"modal-header\",children:/*#__PURE__*/_jsx(\"h5\",{class:\"modal-title\",children:\"Enter your location\"})}),/*#__PURE__*/_jsx(\"div\",{class:\"modal-body\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"comploc\",placeholder:\"Enter city\",onChange:handleChange})}),/*#__PURE__*/_jsx(\"div\",{class:\"modal-footer\",children:/*#__PURE__*/_jsx(Link,{to:\"/agencieslist\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-primary dialogbtn\",onClick:handleClick,children:\"Save changes\"})})})]})})});};export default Locdialog;","map":{"version":3,"names":["React","getAgencyinfo","updateLocation","Link","jsx","_jsx","jsxs","_jsxs","Locdialog","props","city","setCity","useState","handleChange","event","target","value","handleClick","setloc","data","cname","response","console","log","agencyInfo","setAgencyData","error","children","class","role","type","className","name","placeholder","onChange","to","onClick"],"sources":["C:/prototypefinal/client/src/components/Page2/Locdialog.js"],"sourcesContent":["import React from 'react'\r\nimport './Locdialog.css'\r\nimport { getAgencyinfo, updateLocation } from '../../service/api';\r\nimport {Link} from 'react-router-dom';\r\n\r\nconst Locdialog = (props) => {\r\n  const [city, setCity]=React.useState('');\r\n  function handleChange(event){\r\n    setCity(event.target.value);\r\n  }\r\n  // Locdialog.js\r\nconst handleClick = async()=>{\r\n  props.setloc(city);\r\n\r\n  // Update the data structure sent to the backend\r\n  const data = {\r\n    city: city,\r\n    cname: props.cname,\r\n  };\r\n\r\n  // Use async/await to handle the asynchronous call\r\n  const response = await updateLocation(data);\r\n\r\n  if (response) {\r\n    console.log(response); // Handle the response as needed\r\n    try {\r\n      let agencyInfo = await getAgencyinfo();\r\n      props.setAgencyData(agencyInfo);\r\n      console.log(agencyInfo);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n}\r\n\r\n\r\n  return (\r\n    <div>\r\n        <div class=\"modal-dialog\" role=\"document\">\r\n          <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n              <h5 class=\"modal-title\">Enter your location</h5>\r\n             \r\n            </div>\r\n            <div class=\"modal-body\">\r\n              <input type=\"text\" className=\"form-control\" name='comploc' placeholder='Enter city' onChange={handleChange}/>\r\n            </div>\r\n            <div class=\"modal-footer\">\r\n             <Link to='/agencieslist'><button type=\"button\" class=\"btn btn-primary dialogbtn\" onClick={handleClick}>Save changes</button></Link> \r\n\r\n            </div>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Locdialog\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,iBAAiB,CACxB,OAASC,aAAa,CAAEC,cAAc,KAAQ,mBAAmB,CACjE,OAAQC,IAAI,KAAO,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEtC,KAAM,CAAAC,SAAS,CAAIC,KAAK,EAAK,CAC3B,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAACX,KAAK,CAACY,QAAQ,CAAC,EAAE,CAAC,CACxC,QAAS,CAAAC,YAAYA,CAACC,KAAK,CAAC,CAC1BH,OAAO,CAACG,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAC7B,CACA;AACF,KAAM,CAAAC,WAAW,CAAG,KAAAA,CAAA,GAAS,CAC3BR,KAAK,CAACS,MAAM,CAACR,IAAI,CAAC,CAElB;AACA,KAAM,CAAAS,IAAI,CAAG,CACXT,IAAI,CAAEA,IAAI,CACVU,KAAK,CAAEX,KAAK,CAACW,KACf,CAAC,CAED;AACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAnB,cAAc,CAACiB,IAAI,CAAC,CAE3C,GAAIE,QAAQ,CAAE,CACZC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC,CAAE;AACvB,GAAI,CACF,GAAI,CAAAG,UAAU,CAAG,KAAM,CAAAvB,aAAa,CAAC,CAAC,CACtCQ,KAAK,CAACgB,aAAa,CAACD,UAAU,CAAC,CAC/BF,OAAO,CAACC,GAAG,CAACC,UAAU,CAAC,CACzB,CAAE,MAAOE,KAAK,CAAE,CACdJ,OAAO,CAACI,KAAK,CAACA,KAAK,CAAC,CACtB,CACF,CACF,CAAC,CAGC,mBACErB,IAAA,QAAAsB,QAAA,cACItB,IAAA,QAAKuB,KAAK,CAAC,cAAc,CAACC,IAAI,CAAC,UAAU,CAAAF,QAAA,cACvCpB,KAAA,QAAKqB,KAAK,CAAC,eAAe,CAAAD,QAAA,eACxBtB,IAAA,QAAKuB,KAAK,CAAC,cAAc,CAAAD,QAAA,cACvBtB,IAAA,OAAIuB,KAAK,CAAC,aAAa,CAAAD,QAAA,CAAC,qBAAmB,CAAI,CAAC,CAE7C,CAAC,cACNtB,IAAA,QAAKuB,KAAK,CAAC,YAAY,CAAAD,QAAA,cACrBtB,IAAA,UAAOyB,IAAI,CAAC,MAAM,CAACC,SAAS,CAAC,cAAc,CAACC,IAAI,CAAC,SAAS,CAACC,WAAW,CAAC,YAAY,CAACC,QAAQ,CAAErB,YAAa,CAAC,CAAC,CAC1G,CAAC,cACNR,IAAA,QAAKuB,KAAK,CAAC,cAAc,CAAAD,QAAA,cACxBtB,IAAA,CAACF,IAAI,EAACgC,EAAE,CAAC,eAAe,CAAAR,QAAA,cAACtB,IAAA,WAAQyB,IAAI,CAAC,QAAQ,CAACF,KAAK,CAAC,2BAA2B,CAACQ,OAAO,CAAEnB,WAAY,CAAAU,QAAA,CAAC,cAAY,CAAQ,CAAC,CAAM,CAAC,CAE/H,CAAC,EAEL,CAAC,CACH,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAnB,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}